@model TentsNTrails.Models.NaturalFeatureDetailsViewModel
@using TentsNTrails.Models
@using PagedList.Mvc
@{
    ViewBag.Title = Model.NaturalFeature.Name + " Details";
}

<h2>@Model.NaturalFeature.Name</h2>

@if (User.Identity.IsAuthenticated && User.IsInRole("Admin"))
{
    <p>
        @Html.ActionLink("Edit", "Edit", new { id = Model.NaturalFeature.ID }) |
        @Html.ActionLink("Back to List", "Index")
    </p>
}
<p>
    Showing all @Html.ActionLink("Locations", "Index", "Location") associated with the Natural Feature "@Model.NaturalFeature.Name":
</p>


<!-- LOCATIONS -->
@{
    int padding = 7;
    int count = Model.Locations.Count();
    for (int i = 0; i < count; i += 2)
    {
        <div class="row" style="padding: 0px @(padding)px 0px @(padding)px">
            @for (int j = i; j < Math.Min(i + 2, count); j++)
            {
                Location item = Model.Locations[j];
                <div class="col-xs-12 col-md-6" style="padding: @(padding)px;">
                    <div id="review" style="min-height: 124px; min-width:370px">
                        @{ Html.RenderAction("Summary", "Location", new { id = item.LocationID }); }
                    </div>
                </div>
            }
        </div>
    }
}
<br />

<!--PAGING-->
Page @(Model.Locations.PageCount < Model.Locations.PageNumber ? 0 : Model.Locations.PageNumber) of @Model.Locations.PageCount
@Html.PagedListPager(Model.Locations, page => Url.Action("Details", new { page, id = Model.NaturalFeature.ID }))
